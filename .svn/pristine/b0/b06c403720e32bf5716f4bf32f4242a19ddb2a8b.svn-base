(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{106:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAmCAYAAABDClKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qjc1Njc1ODcwRDc0MTFFOEFFMDhBN0UwQzZGOTIwRUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qjc1Njc1ODgwRDc0MTFFOEFFMDhBN0UwQzZGOTIwRUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNzU2NzU4NTBENzQxMUU4QUUwOEE3RTBDNkY5MjBFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNzU2NzU4NjBENzQxMUU4QUUwOEE3RTBDNkY5MjBFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlSkTdoAAAPzSURBVHjazJhpbExRFMen1E5i34ldQmhsQQRFI3ZNbcEHSzWWfiBiC5Hgk4ilEXtbJEIsKRqJWmotCUpVLYmllto+CErEzvif5P+S05s7M286r9KT/DL33Tvz5v/Ovfecc1+U3+/3ZWdn+yK0oaAR2FeaH8fFxZW4jvZ5YydBRXAOvIn0ZhU8EvWVn7W8uJnXol6UF1EdQBW2Y0HVSG9YmjXVBkwHMaAXaKLGskAxyAP54Ai4Vpai2oMVYFqI79UGg8lCcAKsA1e8nr6V4JFF0C/wHJwFp8ET9mkbDXLAHi89tR9MMfpkWtLAbfDOGGsAuoEkMF71y5R35rr7GomnjhuCLoAuYCI4YxHkY5+MTaCILDUmazA3lDOCiVoKxqrrHVwn98JYhw/ACLBK9XUCh0ojqilYq653gbkR7PLVYJ66TgBDwhW1UbULwewA35Pp2MptfwNkgBlMOaZt507UnnctSrb0JHU91fIdSSeZFCIe6E2B4oHd4DXoZ/mdXp/tQF+3opaotiTY68a4BMuHYAzHxDMtQQv2ZbJikLjU0/jtF7DeCDWuROk6It0ynkVh20AfsBe8BK84PfEgWVUPpqWq9kBQyY2oZuqpTloCoaSXAvXHNhPBBxmz4o0xCcJ32a7OTRVUVCP1Jcldn4zxBLWbtPWw7Kbl/EyyiL5oJPSSER1Vpzx1Q17rDP8hQEXgBFHHxHM32Z5MD4k9A37bnxoPewwavrD9Vx44mhHaZn8tfc5W/636aqp2fZdxy6/aNYhjjaM5hZXZ0RHcUfNt2mNu/+7gEvuuglkUtMUQGAVuWe5TzQgTRx2xqNd/RlkODu9BXcaa5sbNYjl1siYGhfDGJrCAyTnfUtMPZ7sthDwNtfteqV3Y37JAT1DcvCCCYikoxyKoLk8/Tunz1k1IuKPa4yzjY1g/beWijuH0S7xpBVLozUIj5jk2Uq1NmdpvbkTpiJtsLEJ9ztvAdCSe+AF+csfNZ1TvyD5bcnZsnduIXsDizSkC0wNM0SJQj8JSeRCdw2mXgPnH8hspj1uz/VHCQTiVpzztZbblT08xnZgmsewwCWU96F3HFodbupg19Z4I66lhxqkmN8gMBK08Z6pI7eSzNMaecGwNk7gzK8UBNoDrGr2/ISyRp5cFLFV8QSrXRJbDujwpZvD9HMlp5juLtwyVjFsyMG7ipihg5vfzoBrDgGl6VA6oo2xxqbSH0XE8RCxjDeVYVxLMirjAN5fFCTmTTGRdNYBeC/TC4zwzQEqA8ODpuwQdArpz/Rxg3S5x6j6PYcX/8wWHuU7y6BkRtbM8vZ+qrF6ClBtRdfj5w4ubefXOM5EnnCIvbvZPgAEA5ZngyLGh3zgAAAAASUVORK5CYII="},107:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MDZmZmFiMC0yYTAwLTA5NGUtOWVlOC1iYWI5ZDk4ZWJjY2YiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkUxNzg3NTkwRDZFMTFFODlCRUJCREY2N0ZDMDAwRDciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkUxNzg3NTgwRDZFMTFFODlCRUJCREY2N0ZDMDAwRDciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YzljMDZhYTgtZDAzMS05ZjQ3LTgyYTItNWQzMmQ5YjM2NTUwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQwNmZmYWIwLTJhMDAtMDk0ZS05ZWU4LWJhYjlkOThlYmNjZiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PksHdDIAAAKMSURBVHjatJZJaBRREIZ7xhhRUJN4E1REwQ0RYy5xQUUJRnDwoGKMenLDgxhEJ2cFYVxz0OSiuEfxIIjgKOhxxIsLKsQVjSAiLqC4BLfxK/gHmvZNT0+mU/BRr5vu/l/Ve131Evl83nNZJpMxVwMrYDE0wGhIwDu4BzfgErwNvp9Op53frSoiVmvvwHYY4nhknFgOR6AT9sIbr4QlHWJNuOcSNLEsbIB6GC6mwBo4o9e2Qi+0liWIWAp3HeogB3NhKRxXCr+Kx3Ae1sNEuACD4CxsiSSI2ALcZV3ul1jOK20voAU26rpL18UFERuGu6p7h1jwXV75dgzWatzNN2vCItwNQ6EHsR1e/+0cnND4lFOQmdgmKIis8yo3S20fpPj2eFeEqzTOEd2dGAT/wEGNN7sEl2l80ovPrsinXIINGj+IUbBXfjJpHRwUHBV4KA77pNRaGRwRFEz4ch+X/YW8q7gkNZtCfYzL6nx1+nNQ8KHGU2MUHCP/ip3/Myh4TeOWGAUXyWddu7Rb42bXj9pPa5fv/E+QkK2ZnvaVpkptH9SqkDwqVkvb5BuJsr0CsYWwUzt+teuBROGIgVCr+llhAh1lijX7Ok4b0XWE9kMesHRu0+VhNdUoa2qt7YBPzKyJAKpCI/Q14k24o77/qEu77Sm8V7rsP5sA83TuKVSTPdqhs8EawXwC+RYqKNGxmvXKiOnMqsX1QDXc17nHJjkN0d+hgr5j4gwt/hKYpCZt9guewE24CLcCr4/UGciW5C7MQbQviqDfqnVis9prafpRImpL821FatWs3iJNlrELrUR9hA8RxGwTflHrewbTTdxOF0lvAA3R77iZWttZ8HJABSVq6W+E13Z2/SfAADUAvK+lpWw+AAAAAElFTkSuQmCC"},208:function(t,i,n){},406:function(t,i,n){"use strict";n.r(i);var e=n(107),c=n.n(e),s=n(106),a=n.n(s),l=n(2),o=(n(16),n(0)),r=n.n(o),v=(n(208),(Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t})({},Object(l.mapState)({city:function(t){return t.glb.city},community:function(t){return t.glb.formCommunity},user:function(t){return t.glb.user}})),{name:"city",data:function(){return{iconSearch:c.a,iconDing:a.a,key:"",allList:[],list:[],hotList:[],pinRenderObj:{},search_type:"all",pin:"A",dwCity:{}}},computed:(Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t})({},Object(l.mapState)({city:function(t){return t.glb.city},community:function(t){return t.glb.formCommunity},user:function(t){return t.glb.user}})),watch:{key:function(t){var i=this;r.a.throttle(function(){i.search(t)},500,{trailing:!0})()}},methods:{cancel:function(){this.$router.go(-1)},renderByPin:function(){var t=this.list.map(function(t){var i=t;return i.pin=t.cityPy[0],i});this.pinRenderObj=r.a.groupBy(t,"pin")},search:function(t){var i=this;if(""===t&&(this.search_type="all",this.allList.length>0))return this.list=r.a.cloneDeep(this.allList),void this.renderByPin();this.$http.get("city/getCityInfoListByCityNameAndPinyin",{params:{cityName:t}}).then(function(n){var e=n.data.data;""===t&&(i.allList=r.a.cloneDeep(e)),i.list=r.a.cloneDeep(e),i.renderByPin()}).catch(function(t){}).then(function(){})},searchByname:function(t){var i=this;this.$http.get("city/getCityInfoListBycityName",{params:{cityPy:t}}).then(function(t){var n=t.data.data;i.list=n}).catch(function(t){}).then(function(){})},loadHotCity:function(){var t=this;this.$http.get("city/getCityInfoListHoT").then(function(i){var n=i.data.data;t.hotList=n}).catch(function(t){}).then(function(){})},searchPin:function(){console.log(event.target.tagName.toLowerCase()),"li"==event.target.tagName.toLowerCase()&&(this.search_type="nav",this.pin=event.target.innerHTML,"热门"!==this.pin&&this.searchByname(event.target.innerHTML))},setFromDw:function(){this.city.cityId&&(this.sub(this.city),this.$router.go(-1))},setRes:function(t){var i=this.city||{};i.cityId!=t.cityId&&(i=t),this.sub(i),this.$router.go(-1)},sub:function(t){1==this.$route.query.type?this.$store.commit("updateCurCityStatus",t):(this.$store.commit("updateFormCityStatus",t),(this.community||{}).cityId!=t.cityId&&this.$store.commit("updateFormCommunityStatus",null))}},created:function(){this.loadHotCity(),this.search("")},mounted:function(){document.title="城市搜索"}}),u=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"search-page"},[n("ul",{staticClass:"s_citynav",on:{click:function(i){return i.stopPropagation(),t.searchPin(i)}}},[n("li",[t._v("热门")]),t._v(" "),n("li",[t._v("A")]),t._v(" "),n("li",[t._v("B")]),t._v(" "),n("li",[t._v("C")]),t._v(" "),n("li",[t._v("D")]),t._v(" "),n("li",[t._v("E")]),t._v(" "),n("li",[t._v("F")]),t._v(" "),n("li",[t._v("G")]),t._v(" "),n("li",[t._v("H")]),t._v(" "),n("li",[t._v("I")]),t._v(" "),n("li",[t._v("J")]),t._v(" "),n("li",[t._v("K")]),t._v(" "),n("li",[t._v("L")]),t._v(" "),n("li",[t._v("M")]),t._v(" "),n("li",[t._v("N")]),t._v(" "),n("li",[t._v("O")]),t._v(" "),n("li",[t._v("P")]),t._v(" "),n("li",[t._v("Q")]),t._v(" "),n("li",[t._v("R")]),t._v(" "),n("li",[t._v("S")]),t._v(" "),n("li",[t._v("T")]),t._v(" "),n("li",[t._v("W")]),t._v(" "),n("li",[t._v("X")]),t._v(" "),n("li",[t._v("Y")]),t._v(" "),n("li",[t._v("Z")])]),t._v(" "),n("div",{staticClass:"c_search_box"},[n("div",{staticClass:"c_search_input"},[n("img",{staticClass:"ding_w",attrs:{src:t.iconSearch,onclick:"cityName()"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],staticClass:"text required",attrs:{type:"search",placeholder:"搜索城市名称",name:"cityName"},domProps:{value:t.key},on:{input:function(i){i.target.composing||(t.key=i.target.value)}}})]),t._v(" "),n("div",{staticClass:"c_cancel_btn",on:{click:t.cancel}},[t._v("取消")])]),t._v(" "),n("div",{staticClass:"c_cur_city_box",on:{click:t.setFromDw}},[n("div",{staticClass:"c_cur_city_left"},[n("img",{staticClass:"ding_w",attrs:{src:t.iconDing,alt:""}}),t._v(" "),n("span",[t._v(t._s(t.city.cityName||"定位失败，请手动选择"))])]),t._v(" "),n("div",{staticClass:"c_cur_city_right"},[t._v("当前城市")])]),t._v(" "),t.hotList&&t.hotList.length>0?n("dl",{staticClass:"c_hotcity"},[n("dt",[t._v("热门城市")]),t._v(" "),t._l(t.hotList,function(i){return n("dd",{key:i.cityId,on:{click:function(n){t.setRes(i)}}},[t._v(t._s(i.cityName))])})],2):t._e(),t._v(" "),n("dl",{staticClass:"c_citylist",attrs:{id:"a"}},[0==t.list.length?n("dt",{staticStyle:{"text-align":"center"}},[t._v("暂无匹配结果")]):t._e(),t._v(" "),t._l(t.pinRenderObj,function(i,e){return t.list.length>0&&"all"==t.search_type?[n("dt",{attrs:{id:"p_"+e}},[t._v(t._s(e))]),t._v(" "),t._l(i,function(i){return n("dd",{key:i.cityId,on:{click:function(n){t.setRes(i)}}},[n("div",{staticClass:"vux-1px-b"},[t._v(t._s(i.cityName))])])})]:t._e()}),t._v(" "),t.list.length>0&&"key"==t.search_type?[n("dt",[t._v("搜索结果")]),t._v(" "),t._l(t.list,function(i){return n("dd",{key:i.cityId,on:{click:function(n){t.setRes(i)}}},[n("div",{staticClass:"vux-1px-b"},[t._v(t._s(i.cityName))])])})]:t._e(),t._v(" "),t.list.length>0&&"nav"==t.search_type?[n("dt",[t._v(t._s(t.pin))]),t._v(" "),t._l(t.list,function(i){return n("dd",{key:i.cityId,on:{click:function(n){t.setRes(i)}}},[n("div",{staticClass:"vux-1px-b"},[t._v(t._s(i.cityName))])])})]:t._e()],2)])};u._withStripped=!0;var h=n(1),A=Object(h.a)(v,u,[],!1,null,null,null);A.options.__file="src/pages/index/home/views/city.vue";i.default=A.exports}}]);
//# sourceMappingURL=17.ac3c077.js.map