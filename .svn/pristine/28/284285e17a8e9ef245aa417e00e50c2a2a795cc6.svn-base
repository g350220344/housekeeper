(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{19:function(t,e,i){"use strict";e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t)void 0===t[e]&&delete t[e];return t}},203:function(t,e,i){},216:function(t,e,i){},217:function(t,e,i){},218:function(t,e,i){},22:function(t,e,i){"use strict";var n={mounted:function(){0},data:function(){return{uuid:Math.random().toString(36).substring(3,8)}}};e.a={mixins:[n],props:{required:{type:Boolean,default:!1}},created:function(){this.handleChangeEvent=!1},computed:{dirty:{get:function(){return!this.pristine},set:function(t){this.pristine=!t}},invalid:function(){return!this.valid}},methods:{setTouched:function(){this.touched=!0}},watch:{value:function(t){!0===this.pristine&&(this.pristine=!1),this.handleChangeEvent||(this.$emit("on-change",t),this.$emit("input",t))}},data:function(){return{errors:{},pristine:!0,touched:!1}}}},222:function(t,e,i){},3:function(t,e,i){"use strict";var n=i(19),a=(n.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:n.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.title?i("div",{staticClass:"weui-cells__title",style:t.cleanStyle({color:t.titleColor}),domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t._t("title"),t._v(" "),i("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!t.title},style:t.cleanStyle({marginTop:"number"==typeof t.gutter?t.gutter+"px":t.gutter})},[t._t("after-title"),t._v(" "),t._t("default")],2),t._v(" "),t.footerTitle?i("div",{staticClass:"weui-cells__title vux-group-footer-title",style:t.cleanStyle({color:t.footerTitleColor}),domProps:{innerHTML:t._s(t.footerTitle)}}):t._e()],2)};o._withStripped=!0;var l=i(1),s=!1;var r=function(t){s||i(216)},u=Object(l.a)(a,o,[],!1,r,null,null);u.options.__file="node_modules/vux/src/components/group/index.vue";e.a=u.exports},37:function(t,e,i){"use strict";e.a=function(){return{title:[String,Number],value:[String,Number,Array],isLink:Boolean,isLoading:Boolean,inlineDesc:[String,Number],primary:{type:String,default:"title"},link:[String,Object],valueAlign:[String,Boolean,Number],borderIntent:{type:Boolean,default:!0},disabled:Boolean,arrowDirection:String,alignItems:String}}},396:function(t,e,i){"use strict";i.r(e);i(203);var n=i(3),a=i(4),o=i(14),l=i(17),s=(n.a,a.a,o.a,l.a,{name:"add-loan",components:{Group:n.a,Cell:a.a,Datetime:o.a,PopupRadio:l.a},data:function(){return{houseId:"",is_edit:0,termOptions:[],loanTypes:[{key:1,value:"商业按揭贷款"},{key:2,value:"公积金贷款"},{key:3,value:"信用贷"},{key:4,value:"房抵贷"}],loanMethods:[{key:1,value:"公积金"},{key:2,value:"建设银行"},{key:3,value:"工商银行"},{key:4,value:"中国银行"},{key:5,value:"农业银行"},{key:6,value:"交通银行"},{key:7,value:"邮储银行"},{key:8,value:"其他"}],payTypes:["等额本息","等额本金"],interest:"",form:{loan:"",loanType:"",loanPeriod:20,loanMethod:"",payType:"等额本息",date:""}}},computed:{is_finish:function(){for(var t in this.form)if(!this.form[t])return!1;return!0}},watch:{interest:function(t){(t=(t=(t=(t=(t=""+t).replace(/[^\d.]/g,"")).replace(/\.{2,}/g,".")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")).indexOf(".")<0&&""!=t&&(t=parseFloat(t)),this.interest=t}},methods:{del:function(){var t=this;this.showLoading(),this.$http({url:"WxLoan/deleteLoan",method:"post",data:{id:this.$route.query.id}}).then(function(e){1==e.data.statusCode&&(t.hideLoading(),t.$router.go(-1))})},interestCheck:function(t){t.value=t.value.replace(/[^\d.]/g,""),t.value=t.value.replace(/\.{2,}/g,"."),t.value=t.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t.value=t.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),t.value.indexOf(".")<0&&""!=t.value&&(t.value=parseFloat(t.value))},areaCheck:function(t){return isNaN(1*t)?{valid:!1,msg:"请输入数字"}:{valid:!0}},log:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(t,e)},change:function(){},onConfirm:function(t){console.log("on-confirm arg",t)},onCancel:function(){},submit:function(){var t=this;if(this.is_finish){this.showLoading();var e={houseId:this.houseId,loanTime:this.form.date,term:12*this.form.loanPeriod,type:this.form.loanType,typeName:this.loanTypes[this.form.loanType-1].value,channel:this.form.loanMethod,channelName:this.loanMethods[this.form.loanMethod-1].value,money:this.form.loan,rate:this.interest,repayment:this.form.payType},i="WxLoan/addLoan";1==this.$route.query.is_edit&&(e.id=this.$route.query.id,i="WxLoan/updateLoanByLoanId"),this.$http({url:i,method:"post",data:e}).then(function(e){1==e.data.statusCode&&(t.hideLoading(),t.$router.go(-1))})}},showLoading:function(){this.$store.commit("updateLoadingStatus",{isLoading:!0})},hideLoading:function(t){this.$store.commit("updateLoadingStatus",{isLoading:!1}),2==t?this.$store.commit("updateWarnToastStatus"):this.$store.commit("updateToastStatus")},load:function(){var t=this;this.$http({url:"WxLoan/selectLoanById",method:"post",data:{id:this.$route.query.id}}).then(function(e){var i=e.data.data;1==e.data.statusCode&&(t.form={loan:i.money,loanType:parseInt(i.type),loanPeriod:i.term/12,loanMethod:parseInt(i.channel),payType:i.repayment,date:i.loanTime},t.interest=i.rate)})}},created:function(){var t=this.$route.query;this.houseId=this.$route.query.houseId;for(var e=1;e<=30;e++)this.termOptions.push({key:e,value:e+"年（"+12*e+"期)"});1==t.is_edit&&(this.is_edit=t.is_edit,this.load())},mounted:function(){document.title="添加贷款"}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("group",{staticClass:"i_cell",attrs:{gutter:0}},[i("datetime",{attrs:{format:"YYYY-MM-DD",title:"贷款起始日",placeholder:"选择日期"},on:{"on-change":t.change,"on-cancel":t.onCancel,"on-confirm":t.onConfirm,"on-hide":function(e){t.log("hide",e)}},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}}),t._v(" "),i("popup-radio",{attrs:{title:"贷款期限",options:t.termOptions},model:{value:t.form.loanPeriod,callback:function(e){t.$set(t.form,"loanPeriod",e)},expression:"form.loanPeriod"}}),t._v(" "),i("popup-radio",{attrs:{placeholder:"请选择",title:"贷款类型",options:t.loanTypes},model:{value:t.form.loanType,callback:function(e){t.$set(t.form,"loanType",e)},expression:"form.loanType"}}),t._v(" "),i("popup-radio",{attrs:{placeholder:"请选择",title:"贷款渠道",options:t.loanMethods},model:{value:t.form.loanMethod,callback:function(e){t.$set(t.form,"loanMethod",e)},expression:"form.loanMethod"}}),t._v(" "),i("cell",{attrs:{title:"贷款金额"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.loan,expression:"form.loan"}],staticClass:"add_loan_inline_input",attrs:{type:"text",placeholder:"必填"},domProps:{value:t.form.loan},on:{input:function(e){e.target.composing||t.$set(t.form,"loan",e.target.value)}}}),t._v(" 万 | 年利率 "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.interest,expression:"interest"}],staticClass:"add_loan_inline_input",attrs:{type:"text",placeholder:"必填"},domProps:{value:t.interest},on:{input:function(e){e.target.composing||(t.interest=e.target.value)}}}),t._v(" %\n        ")]),t._v(" "),i("popup-radio",{attrs:{title:"还款方式",options:t.payTypes},model:{value:t.form.payType,callback:function(e){t.$set(t.form,"payType",e)},expression:"form.payType"}})],1),t._v(" "),i("div",{staticClass:"sub_btn",class:{sub_btn_disabled:!t.is_finish},staticStyle:{"margin-top":"0.85rem"},on:{click:t.submit}},[t._v("立即评估")]),t._v(" "),t.is_edit?i("div",{staticStyle:{"margin-top":"0.55rem",color:"#f9354d","text-align":"center","font-size":"0.28rem","text-decoration-line":"underline"},on:{click:t.del}},[t._v("删除贷款")]):t._e()],1)};r._withStripped=!0;var u=i(1),c=Object(u.a)(s,r,[],!1,null,null,null);c.options.__file="src/pages/index/home/views/add_loan.vue";e.default=c.exports},4:function(t,e,i){"use strict";var n=i(7),a=i(21),o=i(37),l=i(19),s=function(t,e){return t.$parent&&void 0!==t.$parent[e]?t.$parent[e]:t.$parent&&t.$parent.$parent&&void 0!==t.$parent.$parent[e]?t.$parent.$parent[e]:void 0},r=(n.a,Object(o.a)(),{name:"cell",components:{InlineDesc:n.a},props:Object(o.a)(),created:function(){0},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return Object(l.a)({width:s(this,"labelWidth"),textAlign:s(this,"labelAlign"),marginRight:s(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&Object(a.a)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-cell",class:{"vux-tap-active":t.isLink||!!t.link,"weui-cell_access":t.isLink||!!t.link,"vux-cell-no-border-intent":!t.borderIntent,"vux-cell-disabled":t.disabled},style:t.style,on:{click:t.onClick}},[i("div",{staticClass:"weui-cell__hd"},[t._t("icon")],2),t._v(" "),i("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===t.primary&&"left"!==t.valueAlign}},[i("p",[t.title||t.hasTitleSlot?i("label",{staticClass:"vux-label",class:t.labelClass,style:t.labelStyles},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),t._t("after-title")],2),t._v(" "),i("inline-desc",[t._t("inline-desc",[t._v(t._s(t.inlineDesc))])],2)],1),t._v(" "),i("div",{staticClass:"weui-cell__ft",class:t.valueClass},[t._t("value"),t._v(" "),t._t("default",[t._v(t._s(t.value))]),t._v(" "),t.isLoading?i("i",{staticClass:"weui-loading"}):t._e()],2),t._v(" "),t._t("child")],2)};u._withStripped=!0;var c=i(1),d=!1;var p=function(t){d||i(218)},h=Object(c.a)(r,u,[],!1,p,null,null);h.options.__file="node_modules/vux/src/components/cell/index.vue";e.a=h.exports},40:function(t,e,i){"use strict";String,Boolean;var n={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}},a=function(){var t=this.$createElement;return(this._self._c||t)("i",{class:[this.className,this.isMsg?"weui-icon_msg":""]})};a._withStripped=!0;var o=i(1),l=!1;var s=function(t){l||i(222)},r=Object(o.a)(n,a,[],!1,s,null,null);r.options.__file="node_modules/vux/src/components/icon/index.vue";e.a=r.exports},7:function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"vux-label-desc"},[this._t("default")],2)};n._withStripped=!0;var a=i(1),o=!1;var l=function(t){o||i(217)},s=Object(a.a)({name:"inline-desc"},n,[],!1,l,null,null);s.options.__file="node_modules/vux/src/components/inline-desc/index.vue";e.a=s.exports}}]);
//# sourceMappingURL=30.js.map