(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{228:function(t,e,i){},229:function(t,e,i){},23:function(t,e,i){"use strict";e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t)void 0===t[e]&&delete t[e];return t}},230:function(t,e,i){},3:function(t,e,i){"use strict";var s=i(23),n=(s.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:s.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.title?i("div",{staticClass:"weui-cells__title",style:t.cleanStyle({color:t.titleColor}),domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t._t("title"),t._v(" "),i("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!t.title},style:t.cleanStyle({marginTop:"number"==typeof t.gutter?t.gutter+"px":t.gutter})},[t._t("after-title"),t._v(" "),t._t("default")],2),t._v(" "),t.footerTitle?i("div",{staticClass:"weui-cells__title vux-group-footer-title",style:t.cleanStyle({color:t.footerTitleColor}),domProps:{innerHTML:t._s(t.footerTitle)}}):t._e()],2)};r._withStripped=!0;var l=i(1),a=!1;var o=function(t){a||i(228)},c=Object(l.a)(n,r,[],!1,o,null,null);c.options.__file="node_modules/vux/src/components/group/index.vue";e.a=c.exports},383:function(t,e,i){},384:function(t,e,i){},4:function(t,e,i){"use strict";var s=i(8),n=i(24),r=i(41),l=i(23),a=function(t,e){return t.$parent&&void 0!==t.$parent[e]?t.$parent[e]:t.$parent&&t.$parent.$parent&&void 0!==t.$parent.$parent[e]?t.$parent.$parent[e]:void 0},o=(s.a,Object(r.a)(),{name:"cell",components:{InlineDesc:s.a},props:Object(r.a)(),created:function(){0},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return Object(l.a)({width:a(this,"labelWidth"),textAlign:a(this,"labelAlign"),marginRight:a(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&Object(n.a)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-cell",class:{"vux-tap-active":t.isLink||!!t.link,"weui-cell_access":t.isLink||!!t.link,"vux-cell-no-border-intent":!t.borderIntent,"vux-cell-disabled":t.disabled},style:t.style,on:{click:t.onClick}},[i("div",{staticClass:"weui-cell__hd"},[t._t("icon")],2),t._v(" "),i("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===t.primary&&"left"!==t.valueAlign}},[i("p",[t.title||t.hasTitleSlot?i("label",{staticClass:"vux-label",class:t.labelClass,style:t.labelStyles},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),t._t("after-title")],2),t._v(" "),i("inline-desc",[t._t("inline-desc",[t._v(t._s(t.inlineDesc))])],2)],1),t._v(" "),i("div",{staticClass:"weui-cell__ft",class:t.valueClass},[t._t("value"),t._v(" "),t._t("default",[t._v(t._s(t.value))]),t._v(" "),t.isLoading?i("i",{staticClass:"weui-loading"}):t._e()],2),t._v(" "),t._t("child")],2)};c._withStripped=!0;var u=i(1),h=!1;var g=function(t){h||i(230)},d=Object(u.a)(o,c,[],!1,g,null,null);d.options.__file="node_modules/vux/src/components/cell/index.vue";e.a=d.exports},41:function(t,e,i){"use strict";e.a=function(){return{title:[String,Number],value:[String,Number,Array],isLink:Boolean,isLoading:Boolean,inlineDesc:[String,Number],primary:{type:String,default:"title"},link:[String,Object],valueAlign:[String,Boolean,Number],borderIntent:{type:Boolean,default:!0},disabled:Boolean,arrowDirection:String,alignItems:String}}},423:function(t,e,i){"use strict";i.r(e);var s=i(8),n=i(23),r=(s.a,String,Boolean,Boolean,String,Number,String,Boolean,Number,Boolean,Array,{name:"x-switch",components:{InlineDesc:s.a},computed:{labelStyle:function(){var t=/<\/?[^>]*>/.test(this.title),e=Math.min(t?5:this.title.length+1,14)+"em";return Object(n.a)({display:"block",width:this.$parent.labelWidth||e,textAlign:this.$parent.labelAlign})},labelClass:function(){return{"vux-cell-justify":this.$parent&&"justify"===this.$parent.labelAlign}}},methods:{onClick:function(){this.$emit("on-click",!this.currentValue,this.currentValue)},toBoolean:function(t){return this.valueMap?1===this.valueMap.indexOf(t):t},toRaw:function(t){return this.valueMap?this.valueMap[t?1:0]:t}},props:{title:{type:String,required:!0},disabled:Boolean,value:{type:[Boolean,String,Number],default:!1},inlineDesc:[String,Boolean,Number],preventDefault:Boolean,valueMap:{type:Array,default:function(){return[!1,!0]}}},data:function(){return{currentValue:this.toBoolean(this.value)}},watch:{currentValue:function(t){var e=this.toRaw(t);this.$emit("input",e),this.$emit("on-change",e)},value:function(t){this.currentValue=this.toBoolean(t)}}}),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-x-switch weui-cell weui-cell_switch"},[i("div",{staticClass:"weui-cell__bd"},[i("label",{staticClass:"weui-label",class:t.labelClass,style:t.labelStyle,domProps:{innerHTML:t._s(t.title)}}),t._v(" "),t.inlineDesc?i("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()],1),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-switch",attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{change:function(e){var i=t.currentValue,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=t._i(i,null);s.checked?r<0&&(t.currentValue=i.concat([null])):r>-1&&(t.currentValue=i.slice(0,r).concat(i.slice(r+1)))}else t.currentValue=n}}}),t._v(" "),t.preventDefault?i("div",{staticClass:"vux-x-switch-overlay",on:{click:t.onClick}}):t._e()])])};l._withStripped=!0;var a=i(1),o=!1;var c=function(t){o||i(383)},u=Object(a.a)(r,l,[],!1,c,null,null);u.options.__file="node_modules/vux/src/components/x-switch/index.vue";var h=u.exports,g=i(3),d=i(4),v=i(2),m=i(0),p=i.n(m),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},_=(g.a,d.a,f({},Object(v.mapState)({user:function(t){return t.glb.user},userRegisted:function(t){return t.glb.userInfo}}),{isChanged:function(){for(var t in this.shortMsgNotice)if(this.shortMsgNotice.hasOwnProperty(t)&&this.shortMsgNotice[t]!=this.userRegisted[t])return!0;for(var e in this.msgNotice)if(this.msgNotice.hasOwnProperty(e)&&this.msgNotice[e]!=this.userRegisted[e])return!0;return!1}}),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}),b={name:"msg-set",components:{XSwitch:h,Group:g.a,Cell:d.a},data:function(){return{shortMsgNotice:{},msgNotice:{},mobile:""}},computed:_({},Object(v.mapState)({user:function(t){return t.glb.user},userRegisted:function(t){return t.glb.userInfo}}),{isChanged:function(){for(var t in this.shortMsgNotice)if(this.shortMsgNotice.hasOwnProperty(t)&&this.shortMsgNotice[t]!=this.userRegisted[t])return!0;for(var e in this.msgNotice)if(this.msgNotice.hasOwnProperty(e)&&this.msgNotice[e]!=this.userRegisted[e])return!0;return!1}}),methods:{showLoading:function(){this.$store.commit("updateLoadingStatus",{isLoading:!0})},hideLoading:function(t){this.$store.commit("updateLoadingStatus",{isLoading:!1}),2==t?this.$store.commit("updateWarnToastStatus"):this.$store.commit("updateToastStatus")},loadUser:function(){var t=this;this.$http({url:"WxUser/selectUserInfo",method:"post",data:{}}).then(function(e){1==e.data.statusCode&&(t.$store.commit("updateUserInfoStatus",e.data.data),t.init())})},init:function(){var t=p.a.cloneDeep(this.userRegisted);this.shortMsgNotice={smsMonth:!!t.smsMonth,smsRent:!!t.smsRent,smsPrice:!!t.smsPrice},this.msgNotice={messageMonth:!!t.messageMonth,messageRent:!!t.messageRent,messagePrice:!!t.messagePrice},this.mobile=t.pwdMobile},submit:function(){var t=this;if(this.isChanged){this.showLoading();var e={};for(var i in this.shortMsgNotice)this.shortMsgNotice.hasOwnProperty(i)&&(e[i]=this.shortMsgNotice[i]?1:0);var s={};for(var n in this.msgNotice)this.msgNotice.hasOwnProperty(n)&&(s[n]=this.msgNotice[n]?1:0);var r=_({},e,s);this.$http({url:"WxUser/updateUserInfo",method:"post",data:r}).then(function(e){if(1==e.data.statusCode){var i=p.a.cloneDeep(t.userRegisted);for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);t.$store.commit("updateUserInfoStatus",i),t.hideLoading(),t.$router.go(-1)}})}else this.$router.go(-1)}},created:function(){this.userRegisted?this.init():this.loadUser()},mounted:function(){document.title="推送设置"}},w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"msg_set_page"},[i("group",{attrs:{title:"短信提醒"}},[i("x-switch",{attrs:{title:"月供提醒"},model:{value:t.shortMsgNotice.smsMonth,callback:function(e){t.$set(t.shortMsgNotice,"smsMonth",e)},expression:"shortMsgNotice.smsMonth"}}),t._v(" "),i("x-switch",{attrs:{title:"收租提醒"},model:{value:t.shortMsgNotice.smsRent,callback:function(e){t.$set(t.shortMsgNotice,"smsRent",e)},expression:"shortMsgNotice.smsRent"}}),t._v(" "),i("x-switch",{attrs:{title:"房价提醒"},model:{value:t.shortMsgNotice.smsPrice,callback:function(e){t.$set(t.shortMsgNotice,"smsPrice",e)},expression:"shortMsgNotice.smsPrice"}})],1),t._v(" "),i("group",{attrs:{title:"消息提醒"}},[i("x-switch",{attrs:{title:"月供提醒"},model:{value:t.msgNotice.messageMonth,callback:function(e){t.$set(t.msgNotice,"messageMonth",e)},expression:"msgNotice.messageMonth"}}),t._v(" "),i("x-switch",{attrs:{title:"收租提醒"},model:{value:t.msgNotice.messageRent,callback:function(e){t.$set(t.msgNotice,"messageRent",e)},expression:"msgNotice.messageRent"}}),t._v(" "),i("x-switch",{attrs:{title:"房价提醒"},model:{value:t.msgNotice.messagePrice,callback:function(e){t.$set(t.msgNotice,"messagePrice",e)},expression:"msgNotice.messagePrice"}})],1),t._v(" "),i("group",{attrs:{gutter:"0.8rem"}},[i("cell",{attrs:{title:"短信手机号","is-link":"",link:"/mobile"}},[t._v("\n            "+t._s(t.mobile||"未设置")+"\n        ")])],1),t._v(" "),i("div",{staticClass:"sub_btn",staticStyle:{"margin-top":"0.85rem"},on:{click:t.submit}},[t._v("保存")])],1)};w._withStripped=!0;var x=!1;var S=function(t){x||i(384)},y=Object(a.a)(b,w,[],!1,S,null,null);y.options.__file="src/pages/index/home/views/msg_set.vue";e.default=y.exports},8:function(t,e,i){"use strict";var s=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"vux-label-desc"},[this._t("default")],2)};s._withStripped=!0;var n=i(1),r=!1;var l=function(t){r||i(229)},a=Object(n.a)({name:"inline-desc"},s,[],!1,l,null,null);a.options.__file="node_modules/vux/src/components/inline-desc/index.vue";e.a=a.exports}}]);
//# sourceMappingURL=19.00872b2.js.map