(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{20:function(e,t,i){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)void 0===e[t]&&delete e[t];return e}},209:function(e,t,i){},224:function(e,t,i){},225:function(e,t,i){},226:function(e,t,i){},23:function(e,t,i){"use strict";var n={mounted:function(){0},data:function(){return{uuid:Math.random().toString(36).substring(3,8)}}};t.a={mixins:[n],props:{required:{type:Boolean,default:!1}},created:function(){this.handleChangeEvent=!1},computed:{dirty:{get:function(){return!this.pristine},set:function(e){this.pristine=!e}},invalid:function(){return!this.valid}},methods:{setTouched:function(){this.touched=!0}},watch:{value:function(e){!0===this.pristine&&(this.pristine=!1),this.handleChangeEvent||(this.$emit("on-change",e),this.$emit("input",e))}},data:function(){return{errors:{},pristine:!0,touched:!1}}}},230:function(e,t,i){},3:function(e,t,i){"use strict";var n=i(20),a=(n.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:n.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.title?i("div",{staticClass:"weui-cells__title",style:e.cleanStyle({color:e.titleColor}),domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title"),e._v(" "),i("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:e.cleanStyle({marginTop:"number"==typeof e.gutter?e.gutter+"px":e.gutter})},[e._t("after-title"),e._v(" "),e._t("default")],2),e._v(" "),e.footerTitle?i("div",{staticClass:"weui-cells__title vux-group-footer-title",style:e.cleanStyle({color:e.footerTitleColor}),domProps:{innerHTML:e._s(e.footerTitle)}}):e._e()],2)};o._withStripped=!0;var l=i(1),s=!1;var r=function(e){s||i(224)},u=Object(l.a)(a,o,[],!1,r,null,null);u.options.__file="node_modules/vux/src/components/group/index.vue";t.a=u.exports},38:function(e,t,i){"use strict";t.a=function(){return{title:[String,Number],value:[String,Number,Array],isLink:Boolean,isLoading:Boolean,inlineDesc:[String,Number],primary:{type:String,default:"title"},link:[String,Object],valueAlign:[String,Boolean,Number],borderIntent:{type:Boolean,default:!0},disabled:Boolean,arrowDirection:String,alignItems:String}}},4:function(e,t,i){"use strict";var n=i(7),a=i(22),o=i(38),l=i(20),s=function(e,t){return e.$parent&&void 0!==e.$parent[t]?e.$parent[t]:e.$parent&&e.$parent.$parent&&void 0!==e.$parent.$parent[t]?e.$parent.$parent[t]:void 0},r=(n.a,Object(o.a)(),{name:"cell",components:{InlineDesc:n.a},props:Object(o.a)(),created:function(){0},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return Object(l.a)({width:s(this,"labelWidth"),textAlign:s(this,"labelAlign"),marginRight:s(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&Object(a.a)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent,"vux-cell-disabled":e.disabled},style:e.style,on:{click:e.onClick}},[i("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),i("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[i("p",[e.title||e.hasTitleSlot?i("label",{staticClass:"vux-label",class:e.labelClass,style:e.labelStyles},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),i("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),i("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?i("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)};u._withStripped=!0;var c=i(1),d=!1;var p=function(e){d||i(226)},v=Object(c.a)(r,u,[],!1,p,null,null);v.options.__file="node_modules/vux/src/components/cell/index.vue";t.a=v.exports},404:function(e,t,i){"use strict";i.r(t);i(209);var n=i(3),a=i(4),o=i(14),l=i(18),s=(n.a,a.a,o.a,l.a,{name:"add-loan",components:{Group:n.a,Cell:a.a,Datetime:o.a,PopupRadio:l.a},data:function(){return{houseId:"",is_edit:0,termOptions:[],loanTypes:[{key:1,value:"商业按揭贷款"},{key:2,value:"公积金贷款"},{key:3,value:"信用贷"},{key:4,value:"房抵贷"}],loanMethods:[{key:1,value:"公积金"},{key:2,value:"建设银行"},{key:3,value:"工商银行"},{key:4,value:"中国银行"},{key:5,value:"农业银行"},{key:6,value:"交通银行"},{key:7,value:"邮储银行"},{key:8,value:"其他"}],payTypes:["等额本息","等额本金"],interest:"",loanType:"",loanMethod:"",form:{loan:"",loanPeriod:20,payType:"等额本息",date:""}}},computed:{is_finish:function(){for(var e in this.form)if(!this.form[e])return!1;return!0}},watch:{interest:function(e){(e=(e=(e=(e=(e=""+e).replace(/[^\d.]/g,"")).replace(/\.{3,}/g,".")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")).indexOf(".")<0&&""!=e&&(e=parseFloat(e)),e>36&&(e=""),e<1&&(e=""),this.interest=e},loanType:function(e){this.loanMethods=2==e?[{key:1,value:"公积金"},{key:2,value:"建设银行"},{key:3,value:"工商银行"},{key:4,value:"中国银行"},{key:5,value:"农业银行"},{key:6,value:"交通银行"},{key:7,value:"邮储银行"},{key:8,value:"其他"}]:[{key:2,value:"建设银行"},{key:3,value:"工商银行"},{key:4,value:"中国银行"},{key:5,value:"农业银行"},{key:6,value:"交通银行"},{key:7,value:"邮储银行"},{key:8,value:"其他"}]}},methods:{del:function(){var e=this;this.showLoading(),this.$http({url:"WxLoan/deleteLoan",method:"post",data:{id:this.$route.query.id}}).then(function(t){1==t.data.statusCode&&(e.hideLoading(),e.$router.go(-1))})},interestCheck:function(e){e.value=e.value.replace(/[^\d.]/g,""),e.value=e.value.replace(/\.{2,}/g,"."),e.value=e.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e.value=e.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e.value.indexOf(".")<0&&""!=e.value&&(e.value=parseFloat(e.value))},areaCheck:function(e){return isNaN(1*e)?{valid:!1,msg:"请输入数字"}:{valid:!0}},log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(e,t)},change:function(){},onConfirm:function(e){console.log("on-confirm arg",e)},onCancel:function(){},submit:function(){var e=this;if(this.is_finish){this.showLoading();var t=this.loanMethods.filter(function(t){return t.key==e.loanMethod})[0].value,i=this.loanTypes.filter(function(t){return t.key==e.loanType})[0].value,n={houseId:this.houseId,loanTime:this.form.date,term:12*this.form.loanPeriod,type:this.loanType,typeName:i,channel:this.loanMethod,channelName:t,money:this.form.loan,rate:this.interest,repayment:this.form.payType},a="WxLoan/addLoan";1==this.$route.query.is_edit&&(n.id=this.$route.query.id,a="WxLoan/updateLoanByLoanId"),this.$http({url:a,method:"post",data:n}).then(function(t){1==t.data.statusCode&&(e.hideLoading(),e.$router.go(-1))})}},showLoading:function(){this.$store.commit("updateLoadingStatus",{isLoading:!0})},hideLoading:function(e){this.$store.commit("updateLoadingStatus",{isLoading:!1}),2==e?this.$store.commit("updateWarnToastStatus"):this.$store.commit("updateToastStatus")},load:function(){var e=this;this.$http({url:"WxLoan/selectLoanById",method:"post",data:{id:this.$route.query.id}}).then(function(t){var i=t.data.data;1==t.data.statusCode&&(e.form={loan:i.money,loanPeriod:i.term/12,payType:i.repayment,date:i.loanTime},e.loanMethod=parseInt(i.channel),e.loanType=parseInt(i.type),e.interest=i.rate)})}},created:function(){var e=this.$route.query;this.houseId=this.$route.query.houseId;for(var t=1;t<=30;t++)this.termOptions.push({key:t,value:t+"年（"+12*t+"期)"});1==e.is_edit&&(this.is_edit=e.is_edit,this.load())},mounted:function(){}}),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("group",{staticClass:"i_cell",attrs:{gutter:0}},[i("datetime",{attrs:{format:"YYYY-MM-DD",title:"贷款起始日",placeholder:"选择日期"},on:{"on-change":e.change,"on-cancel":e.onCancel,"on-confirm":e.onConfirm,"on-hide":function(t){e.log("hide",t)}},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}}),e._v(" "),i("popup-radio",{attrs:{title:"贷款期限",options:e.termOptions},model:{value:e.form.loanPeriod,callback:function(t){e.$set(e.form,"loanPeriod",t)},expression:"form.loanPeriod"}}),e._v(" "),i("popup-radio",{attrs:{placeholder:"请选择",title:"贷款类型",options:e.loanTypes},model:{value:e.loanType,callback:function(t){e.loanType=t},expression:"loanType"}}),e._v(" "),i("popup-radio",{attrs:{placeholder:"请选择",title:"贷款渠道",options:e.loanMethods},model:{value:e.loanMethod,callback:function(t){e.loanMethod=t},expression:"loanMethod"}}),e._v(" "),i("cell",{attrs:{title:"贷款金额"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.loan,expression:"form.loan"}],staticClass:"add_loan_inline_input",attrs:{type:"text",placeholder:"必填"},domProps:{value:e.form.loan},on:{input:function(t){t.target.composing||e.$set(e.form,"loan",t.target.value)}}}),e._v(" 万 | 年利率 "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.interest,expression:"interest"}],staticClass:"add_loan_inline_input",attrs:{type:"text",placeholder:"必填"},domProps:{value:e.interest},on:{input:function(t){t.target.composing||(e.interest=t.target.value)}}}),e._v(" %\n        ")]),e._v(" "),i("popup-radio",{attrs:{title:"还款方式",options:e.payTypes},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}})],1),e._v(" "),i("div",{staticClass:"sub_btn",class:{sub_btn_disabled:!e.is_finish},staticStyle:{"margin-top":"0.85rem"},on:{click:e.submit}},[e._v("立即评估")]),e._v(" "),e.is_edit?i("div",{staticStyle:{"margin-top":"0.55rem",color:"#f9354d","text-align":"center","font-size":"0.28rem","text-decoration-line":"underline"},on:{click:e.del}},[e._v("删除贷款")]):e._e()],1)};r._withStripped=!0;var u=i(1),c=Object(u.a)(s,r,[],!1,null,null,null);c.options.__file="src/pages/index/home/views/add_loan.vue";t.default=c.exports},41:function(e,t,i){"use strict";String,Boolean;var n={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}},a=function(){var e=this.$createElement;return(this._self._c||e)("i",{class:[this.className,this.isMsg?"weui-icon_msg":""]})};a._withStripped=!0;var o=i(1),l=!1;var s=function(e){l||i(230)},r=Object(o.a)(n,a,[],!1,s,null,null);r.options.__file="node_modules/vux/src/components/icon/index.vue";t.a=r.exports},7:function(e,t,i){"use strict";var n=function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"vux-label-desc"},[this._t("default")],2)};n._withStripped=!0;var a=i(1),o=!1;var l=function(e){o||i(225)},s=Object(a.a)({name:"inline-desc"},n,[],!1,l,null,null);s.options.__file="node_modules/vux/src/components/inline-desc/index.vue";t.a=s.exports}}]);
//# sourceMappingURL=30.js.map