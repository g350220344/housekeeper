(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{205:function(e,t,i){},218:function(e,t,i){},392:function(e,t,i){"use strict";i.r(t);var n=i(3),o=i(4),a=i(5),s=i(13),l=i(12),r=i(15),c=i(0),u=i.n(c),d=(i(205),Object.assign,n.a,o.a,a.a,s.a,l.a,r.a,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}),m={name:"add-lease",components:{Group:n.a,Cell:o.a,CellBox:a.a,Datetime:s.a,XInput:l.a,PopupRadio:r.a},data:function(){return{houseId:"",leaseTerms:[{id:1,name:"按月"},{id:2,name:"按季"},{id:3,name:"按年"}],is_edit:0,form:{money:"",leaseName:"",mobile:"",cycle:1,leaseTime:"",term:"",deposit:"",state:0}}},computed:{is_finish:function(){for(var e in this.form)if(""===this.form[e])return!1;return!0}},methods:{del:function(){var e=this;this.$http({url:"WxRent/delectLease",method:"post",data:{id:this.$route.query.id}}).then(function(t){1==t.data.statusCode&&e.$router.go(-1)})},onTermChange:function(e,t){this.form.cycle=e.id},areaCheck:function(e){return isNaN(1*e)?{valid:!1,msg:"请输入数字"}:{valid:!0}},log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(e,t)},change:function(){},onConfirm:function(e){console.log("on-confirm arg",e)},onCancel:function(){},submit:function(){var e=this;if(this.is_finish){var t="WxRent/addLease",i=u.a.cloneDeep(this.form);1==this.is_edit&&(t="WxRent/updateLease",i.id=this.$route.query.id),this.$http({url:t,method:"post",data:d({},i,{houseId:this.houseId})}).then(function(t){1==t.data.statusCode&&e.$router.go(-1)})}},load:function(){var e=this;this.$http({url:"WxRent/selectRentByRentId",method:"post",data:{id:this.$route.query.id}}).then(function(t){var i=t.data.data;if(1==t.data.statusCode){var n={};for(var o in e.form)e.form.hasOwnProperty(o)&&(n[o]=i[o]);n.cycle=parseInt(n.cycle),e.form=u.a.cloneDeep(n)}})}},created:function(){this.houseId=this.$route.query.houseId;this.$route.query;1==this.$route.query.is_edit&&(this.is_edit=1,this.load())},mounted:function(){document.title="添加租约"}},h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("group",{staticClass:"i_cell",attrs:{gutter:0}},[i("x-input",{attrs:{title:"租客姓名",placeholder:"请输入姓名或称呼","text-align":"right","show-clear":!1},model:{value:e.form.leaseName,callback:function(t){e.$set(e.form,"leaseName",t)},expression:"form.leaseName"}}),e._v(" "),i("x-input",{attrs:{title:"租客电话",placeholder:"请输入联系电话","text-align":"right","is-type":"china-mobile","show-clear":!1},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),e._v(" "),i("cell",{attrs:{title:"收租周期"}},[i("ul",{staticClass:"add_lease_checker"},e._l(e.leaseTerms,function(t,n){return i("li",{key:t.id,staticClass:"add_lease_checker_item",class:{add_lease_checker_item_active:e.form.cycle===t.id},on:{click:function(i){e.onTermChange(t,n)}}},[e._v(e._s(t.name))])}))]),e._v(" "),i("x-input",{staticStyle:{"line-height":"1rem"},attrs:{title:"每期租金",placeholder:"必填","text-align":"right","show-clear":!1},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}},[i("span",{staticStyle:{"padding-left":"0.1rem"},attrs:{slot:"right"},slot:"right"},[e._v("元")])]),e._v(" "),i("datetime",{attrs:{format:"YYYY-MM-DD",title:"租约开始日",placeholder:"选择日期"},on:{"on-change":e.change,"on-cancel":e.onCancel,"on-confirm":e.onConfirm,"on-hide":function(t){e.log("hide",t)}},model:{value:e.form.leaseTime,callback:function(t){e.$set(e.form,"leaseTime",t)},expression:"form.leaseTime"}}),e._v(" "),i("x-input",{attrs:{title:"租期",placeholder:"必填","text-align":"right","show-clear":!1},model:{value:e.form.term,callback:function(t){e.$set(e.form,"term",t)},expression:"form.term"}},[i("span",{staticStyle:{"padding-left":"0.1rem"},attrs:{slot:"right"},slot:"right"},[e._v("个月")])]),e._v(" "),i("x-input",{attrs:{title:"押金",placeholder:"必填","text-align":"right","show-clear":!1},model:{value:e.form.deposit,callback:function(t){e.$set(e.form,"deposit",t)},expression:"form.deposit"}},[i("span",{staticStyle:{"padding-left":"0.1rem"},attrs:{slot:"right"},slot:"right"},[e._v("元")])])],1),e._v(" "),i("div",{staticClass:"sub_btn",class:{sub_btn_disabled:!e.is_finish},staticStyle:{"margin-top":"0.85rem"},on:{click:e.submit}},[e._v("立即评估")]),e._v(" "),e.is_edit?i("div",{staticStyle:{"margin-top":"0.55rem",color:"#f9354d","text-align":"center","font-size":"0.28rem","text-decoration-line":"underline"},on:{click:e.del}},[e._v("删除租约")]):e._e()],1)};h._withStripped=!0;var f=i(1),p=Object(f.a)(m,h,[],!1,null,null,null);p.options.__file="src/pages/index/home/views/add_lease.vue";t.default=p.exports},5:function(e,t,i){"use strict";var n=i(19),o=(Boolean,String,Object,Boolean,Boolean,String,{name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&Object(n.a)(this.link,this.$router)}}}),a=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-cell-box weui-cell",class:this.className,style:this.style,on:{click:this.onClick}},[this._t("default")],2)};a._withStripped=!0;var s=i(1),l=!1;var r=function(e){l||i(218)},c=Object(s.a)(o,a,[],!1,r,null,null);c.options.__file="node_modules/vux/src/components/cell-box/index.vue";t.a=c.exports}}]);
//# sourceMappingURL=30.js.map