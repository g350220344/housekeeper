(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{10:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAVCAYAAAByrA+0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNzJFNjAwOTkzQzUxMUU4QkU3OEE3QjIwQkRDOUI3MCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNzJFNjAwQTkzQzUxMUU4QkU3OEE3QjIwQkRDOUI3MCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3MkU2MDA3OTNDNTExRThCRTc4QTdCMjBCREM5QjcwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA3MkU2MDA4OTNDNTExRThCRTc4QTdCMjBCREM5QjcwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8SfOIgAAAQ9JREFUeNpi3L17dzUDA4MfEIe4uLg8ZiAAmIDYHojNgPjcnj17ZInREATEx4FYBKpJCZ8Gxv///4MZQIVngZQREH8GYh2g8x7hsgEGrIH4ChDzAvFZXM6DawCa+ANImQPxeSTnyeJ0EjIAKjwNpEyA+A0QGyM7jwmH32yB+BLUJpDz5PBqQHLeFSRNsjidhOQ0LiC1CxogIOfZ49WApPEbkOIE4ndMRCheDFUMApksBBTvAFLuUK4b0G+7WYhU7AxUvA9nKAEVb0BS7A5TDAIsWBRvAlK+6CZj1YDFzftwpiU0Z3iCPIgz8QEVrwZS/lAxb6DiHbgCgwWoeCUoe+JyMzYbQLH4AJeb0QFAgAEAkMBw416h+l0AAAAASUVORK5CYII="},18:function(t,e,l){"use strict";var i=l(93),s=(Number,Boolean,Boolean,Boolean,Array,Boolean,Boolean,Boolean,Number,{props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!0},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll()})},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new i.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click,tap:!0,scrollX:this.scrollX}),this.click){var e=this;this.scroll.on("click",function(t){e.$emit("click",t)})}if(this.listenScroll){var l=this;this.scroll.on("scroll",function(e){l.$emit("scroll",e,t.scroll.maxScrollY)})}if(this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<t.scroll.maxScrollY+30&&t.$emit("pullup")}),this.pulldown){var s=this.scroll;this.scroll.on("touchEnd",function(e){e.y>50&&(console.warn("fjdifj"),t.$emit("pulldown",s))})}this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}}),o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"wrapper"},[e("div",[this._t("default")],2)])};o._withStripped=!0;var r=l(1),n=Object(r.a)(s,o,[],!1,null,null,null);n.options.__file="src/components/scroll.vue";e.a=n.exports},209:function(t,e,l){},418:function(t,e,l){"use strict";l.r(e);var i=l(10),s=l.n(i),o=l(18),r=l(0),n=l.n(r),a=l(2),c=l(15),u=(l(209),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var l=arguments[e];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])}return t}),p=(o.a,u({},Object(a.mapState)({user:function(t){return t.glb.user}}),{hasMore:function(){return 0==this.list.length||this.list.length<this.total}}),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var l=arguments[e];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])}return t}),h={name:"marks",components:{Scroll:o.a},data:function(){return{iconArrowRight:s.a,boxHeight:0,page:1,rows:10,total:0,list:[],bottomTip:""}},computed:p({},Object(a.mapState)({user:function(t){return t.glb.user}}),{hasMore:function(){return 0==this.list.length||this.list.length<this.total}}),methods:{onClick:function(t){this.$router.push({path:"/community",query:{communityId:t.communityId}})},onScroll:function(t,e){this.hasMore&&t.y<e+30&&(this.bottomTip="加载中...")},pullup:function(){var t=this;this.$nextTick(function(){t.loadData()})},loadData:function(){var t=this;this.hasMore&&this.$http({url:"WxUser/selectUserAttention",method:"post",data:{p:this.page,psize:this.rows}}).then(function(e){var l=e.data;if(1==l.statusCode){if(t.total=l.dataCount,l.data.length>0){var i=n.a.cloneDeep(l.data).map(function(t){return console.log(t.address,c.a.getLength(t.address)),t.address=c.a.getLength(t.address)>40?t.address.substr(0,20)+"...":t.address,t});1==t.page?t.list=i:t.list=t.list.concat(i)}1==t.page&&t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.hasMore?(t.page++,t.bottomTip="查看更多"):t.bottomTip="没有更多了"}else t.bottomTip="暂无数据",t.$store.commit("updateLoadingStatus",{isLoading:!1})})}},created:function(){this.loadData()},mounted:function(){document.title="我的关注",this.$refs.wrapper.$el.style.height=document.getElementById("app").offsetHeight+"px",this.$refs.content.style.minHeight=this.$refs.wrapper.offsetHeight+1+"px",this.boxHeight=document.body.clientHeight+"px"}},d=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"marks_page",style:{height:t.boxHeight}},[l("scroll",{ref:"wrapper",staticClass:"marks_wrapper",attrs:{data:t.list,pullup:!0},on:{scroll:t.onScroll,pullup:t.pullup}},[l("div",{ref:"content",staticClass:"marks_content"},t._l(t.list,function(e){return l("div",{key:e.communityId,staticClass:"marks_list_item",attrs:{item:e},on:{tap:function(l){t.onClick(e)}}},[l("div",{staticClass:"marks_list_item_row"},[l("div",{staticClass:"marks_list_item_row_label"},[l("span",{staticClass:"marks_list_item_title"},[t._v(t._s(e.communityName))])]),t._v(" "),l("div",{staticClass:"marks_list_item_row_val"},[l("img",{attrs:{src:t.iconArrowRight,alt:""}})])]),t._v(" "),l("div",{staticClass:"marks_list_item_row"},[l("div",{staticClass:"marks_list_item_row_label"},[t._v(t._s(e.address))])])])})),t._v(" "),l("div",{staticClass:"loading-wrapper"},[t._v(t._s(t.bottomTip))])])],1)};d._withStripped=!0;var m=l(1),f=Object(m.a)(h,d,[],!1,null,null,null);f.options.__file="src/pages/index/home/views/marks.vue";e.default=f.exports}}]);
//# sourceMappingURL=24.61c963e.js.map