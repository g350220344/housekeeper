{"version":3,"sources":["webpack:///./src/pages/index/home/views/mobile.vue","webpack:///./src/pages/index/home/views/mobile.vue?3790","webpack:///./src/pages/index/home/views/mobile.vue?03b4"],"names":["cell","group","x_input","computed","Object","external_Vuex_","user","state","glb","userInfo","validUser","this","codeLock","myreg","console","log","test","mobile","time","formCheck","code","mobile_timeClock","views_mobile","name","components","Cell","Group","XInput","data","mobile_extends","methods","showLoading","$store","commit","isLoading","hideLoading","type","sendCode","clock","$http","url","method","then","res","statusCode","checkCode","_this","save","_this2","setTimeout","_this3","_u","_","cloneDeep","loadUser","submit","_this4","$router","go","created","mounted","pwdMobile","document","title","destroyed","clearTimeout","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","is-type","text-align","_v","_s","_e","model","value","callback","$$v","expression","max","show-clear","class","mobile_code_btn_active","slot","on","click","sub_btn_disabled","staticStyle","margin-top","_withStripped","disposed","__vue_styles__","context","__webpack_require__","Component","component_normalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"assets/js/19.471b7fd.js","sourcesContent":["\nimport Cell from 'vux/src/components/cell/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport XInput from 'vux/src/components/x-input/index.vue'\n\nimport { mapState } from 'vuex'\n\nlet timeClock = -1;\nexport default {\nname: 'mobile',\ncomponents: { Cell, Group, XInput },\ndata() {\nreturn {\nmobile: '',\ncode: '',\ntime: 0\n}\n},\ncomputed: {\n...mapState({\nuser: state => state.glb.user,\nuserInfo: state => state.glb.userInfo\n}),\nvalidUser() {\nreturn this.userInfo ? this.userInfo : this.user;\n},\ncodeLock() {\nvar myreg = /^[1][3,4,5,7,8][0-9]{9}$/;\nconsole.log(myreg.test(this.mobile))\nif(!this.mobile || !myreg.test(this.mobile)) {\nreturn true\n}\nif(this.time > 0) {\nreturn true\n}\nreturn false\n},\nformCheck() {\nvar myreg = /^[1][3,4,5,7,8][0-9]{9}$/;\nif(!this.mobile || !myreg.test(this.mobile)) {\nreturn false\n}\nif(!this.code) {\nreturn false\n}\nreturn true\n}\n},\nmethods: {\nshowLoading() {\nthis.$store.commit('updateLoadingStatus', {isLoading: true})\n},\nhideLoading(type) {\nthis.$store.commit('updateLoadingStatus', {isLoading: false})\nif(type == 2) {\nthis.$store.commit('updateWarnToastStatus')\n}else {\nthis.$store.commit('updateToastStatus')\n}\n},\nsendCode() {\nif(this.codeLock) {\nreturn;\n}\nif(!this.codeLock) {\nthis.time = 60;\nthis.clock();\n}\nthis.$http({\nurl: 'WxSms/send',\nmethod: 'post',\ndata: {\nmobile: this.mobile\n}\n}).then(res => {\nif(res.data.statusCode == 1) {\n\n}\n})\n},\ncheckCode() {\nthis.showLoading()\nthis.$http({\nurl: 'WxSms/check',\nmethod: 'post',\ndata: {\nmobile: this.mobile,\ncode: this.code\n}\n}).then(res => {\nif(res.data.statusCode == 1) {\nthis.save();\n}\n})\n},\nclock() {\ntimeClock = setTimeout(() => {\nthis.time --;\nif(this.time > 0) {\nthis.clock();\n}\n}, 1000);\n},\nsave() {\nthis.$http({\nurl: 'WxUser/updateUserInfo',\nmethod: 'post',\ndata: {\nmobile: this.mobile\n}\n}).then(res => {\nif(res.data.statusCode == 1) {\nif(!this.user.mobile) {\nlet _u = _.cloneDeep(this.user);\n_u['mobile'] = this.mobile;\nthis.$store.commit('updateUserStatus', _u)\n}\nthis.hideLoading();\nthis.loadUser(1);\n}\n})\n},\nsubmit() {\nif(!this.formCheck) {\nreturn;\n}\nthis.checkCode();\n},\nloadUser(type) {\nthis.showLoading();\nthis.$http({\nurl: 'WxUser/selectUserInfo',\nmethod: 'post',\ndata: {}\n}).then(res => {\nif(res.data.statusCode == 1) {\nthis.$store.commit('updateUserInfoStatus', res.data.data);\nthis.$store.commit('updateLoadingStatus', {isLoading: false})\nif(type == 1) {\nthis.$router.go(-1);\n}\n}\n})\n}\n},\ncreated() {\nif(!this.userInfo) {\nthis.loadUser();\n}\n},\nmounted() {\nif(this.validUser.pwdMobile) {\ndocument.title = '修改手机号'\n}else {\ndocument.title = '绑定手机号'\n}\n\n},\ndestroyed() {\nclearTimeout(timeClock);\n}\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"mobile_page\" },\n    [\n      _c(\n        \"group\",\n        { attrs: { gutter: 0 } },\n        [\n          _vm.validUser.pwdMobile\n            ? _c(\n                \"cell\",\n                {\n                  attrs: {\n                    \"is-type\": \"china-mobile\",\n                    \"text-align\": \"right\",\n                    title: \"原手机号\"\n                  }\n                },\n                [_vm._v(_vm._s(_vm.validUser.pwdMobile))]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"x-input\", {\n            attrs: {\n              \"is-type\": \"china-mobile\",\n              \"text-align\": \"right\",\n              title: \"手机号\"\n            },\n            model: {\n              value: _vm.mobile,\n              callback: function($$v) {\n                _vm.mobile = $$v\n              },\n              expression: \"mobile\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"x-input\",\n            {\n              attrs: {\n                max: 6,\n                \"text-align\": \"right\",\n                \"show-clear\": false,\n                title: \"验证码\"\n              },\n              model: {\n                value: _vm.code,\n                callback: function($$v) {\n                  _vm.code = $$v\n                },\n                expression: \"code\"\n              }\n            },\n            [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"mobile_code_btn\",\n                  class: { mobile_code_btn_active: !_vm.codeLock },\n                  attrs: { slot: \"right\" },\n                  on: { click: _vm.sendCode },\n                  slot: \"right\"\n                },\n                [\n                  _vm._v(\"\\n                获取验证码\"),\n                  _vm.codeLock && _vm.time > 0\n                    ? _c(\"span\", [_vm._v(\"(\" + _vm._s(_vm.time) + \"s)\")])\n                    : _vm._e()\n                ]\n              )\n            ]\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"sub_btn\",\n          class: { sub_btn_disabled: !_vm.formCheck },\n          staticStyle: { \"margin-top\": \"0.85rem\" },\n          on: { click: _vm.submit }\n        },\n        [_vm._v(\"保存\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-35e4eac2\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}","var disposed = false\nfunction injectStyle (context) {\n  if (disposed) return\n  require(\"!!css-hot-loader!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!style-loader?{\\\"sourceMap\\\":true}!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":true}!postcss-loader?{\\\"sourceMap\\\":true}!px2rem-loader?{\\\"remUnit\\\":75,\\\"remPrecision\\\":8}!../../../../../node_modules/vux-loader/src/style-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mobile.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mobile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mobile.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35e4eac2\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../../node_modules/vux-loader/src/template-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mobile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/index/home/views/mobile.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-35e4eac2\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-35e4eac2\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n"],"sourceRoot":""}